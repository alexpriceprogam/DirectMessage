{"code":"module.exports=function(e){var r={};function s(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}return s.m=e,s.c=r,s.d=function(e,r,a){s.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,r){if(1&r&&(e=s(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var t in e)s.d(a,t,function(r){return e[r]}.bind(null,t));return a},s.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(r,\"a\",r),r},s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},s.p=\"\",s(s.s=2)}([function(e,r){e.exports=require(\"express\")},function(e,r){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /home/adam/Gits/DirectMessager/server/controllers/user.controller.js: Unexpected token (60:21)\\n\\n\u001b[0m \u001b[90m 58 | \u001b[39m\\t\\t}\u001b[0m\\n\u001b[0m \u001b[90m 59 | \u001b[39m\\t\\t\u001b[36mconst\u001b[39m user \u001b[33m=\u001b[39m await userData\u001b[33m.\u001b[39msave(\u001b[36mfunction\u001b[39m(err) {\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 | \u001b[39m\\t\\t\\t\u001b[36mreturn\u001b[39m res\u001b[33m.\u001b[39mstatus\u001b[33m.\u001b[39m(\u001b[35m500\u001b[39m)\u001b[33m.\u001b[39mjson(err\u001b[33m.\u001b[39mname)\u001b[0m\\n\u001b[0m \u001b[90m    | \u001b[39m\\t\\t\\t                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 61 | \u001b[39m\\t\\t}\u001b[0m\\n\u001b[0m \u001b[90m 62 | \u001b[39m\\t\\t\u001b[36mreturn\u001b[39m res\u001b[33m.\u001b[39mstatus(\u001b[35m201\u001b[39m)\u001b[33m.\u001b[39mjson(user)\u001b[0m\\n\u001b[0m \u001b[90m 63 | \u001b[39m\\t}\u001b[0m\\n    at Parser.raise (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:3939:15)\\n    at Parser.unexpected (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5248:16)\\n    at Parser.parseIdentifierName (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7029:18)\\n    at Parser.parseIdentifier (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7011:21)\\n    at Parser.parseMaybePrivateName (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:6359:19)\\n    at Parser.parseSubscript (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5995:30)\\n    at Parser.parseSubscripts (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5944:19)\\n    at Parser.parseExprSubscripts (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5934:17)\\n    at Parser.parseMaybeUnary (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5903:21)\\n    at Parser.parseExprOps (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5812:21)\\n    at Parser.parseMaybeConditional (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5784:21)\\n    at Parser.parseMaybeAssign (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5731:21)\\n    at Parser.parseExpression (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5684:21)\\n    at Parser.parseReturnStatement (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7508:28)\\n    at Parser.parseStatementContent (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7187:21)\\n    at Parser.parseStatement (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7153:17)\\n    at Parser.parseBlockOrModuleBlockBody (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7707:23)\\n    at Parser.parseBlockBody (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7694:10)\\n    at Parser.parseBlock (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7683:10)\\n    at Parser.parseFunctionBody (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:6933:24)\\n    at Parser.parseFunctionBodyAndFinish (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:6913:10)\\n    at Parser.parseFunction (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7832:10)\\n    at Parser.parseFunctionExpression (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:6371:17)\\n    at Parser.parseExprAtom (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:6297:21)\\n    at Parser.parseExprSubscripts (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5924:21)\\n    at Parser.parseMaybeUnary (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5903:21)\\n    at Parser.parseExprOps (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5812:21)\\n    at Parser.parseMaybeConditional (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5784:21)\\n    at Parser.parseMaybeAssign (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5731:21)\\n    at Parser.parseExprListItem (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7003:18)\\n    at Parser.parseCallExpressionArguments (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:6124:22)\\n    at Parser.parseSubscript (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:6029:32)\\n    at Parser.parseSubscripts (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5944:19)\\n    at Parser.parseExprSubscripts (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5934:17)\\n    at Parser.parseMaybeUnary (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:5903:21)\\n    at Parser.parseAwait (/home/adam/Gits/DirectMessager/server/node_modules/@babel/parser/lib/index.js:7067:26)\")},function(e,r,s){\"use strict\";const a=s(0),t=s(3),n=s(4),o=s(5)(n),i=s(6),d=s(7),l=s(8).Strategy,m=s(9),u=s(10),p=s(11),b=s(12);p.connect(\"mongodb://localhost/ChatAppDB\"),d.use(new l({usernameField:\"email\"},(e,r,s)=>{User.find({name:\"newuser\"},function(e,r){if(console.log(r),0!=r.length){for(let e=0;e<r.length;e++)usersNames+=r[e].name;console.log(usersNames),res.send(usersNames)}else res.send(\"Sorry no user\")}).then(e=>{const a=e.data[0];return a&&u.compareSync(r,a.password)?s(null,a):s(null,!1,{message:\"Invalid credentials.\\n\"})}).catch(e=>s(e))})),d.serializeUser((e,r)=>{r(null,e.id)}),d.deserializeUser((e,r)=>{m.get(`http://localhost:5000/users/${e}`).then(e=>r(null,e.data)).catch(e=>r(e,!1))});const c=a();c.use(i.urlencoded({extended:!0})),c.use(i.json()),c.use(n({genid:e=>t(),store:new o,secret:\"keyboard cat\",resave:!1,saveUninitialized:!0})),c.use(d.initialize()),c.use(d.session()),c.set(\"view engine\",\"ejs\"),c.use(\"/user\",b),c.get(\"/\",(e,r)=>{r.send(\"You got home page!\\n\")}),c.get(\"/login\",(e,r)=>{r.render(\"login\",{})}),c.post(\"/login\",(e,r,s)=>{console.log(\"app.post('/login')\"),d.authenticate(\"local\",(a,t,n)=>n?r.send(n.message):a?s(a):t?void e.login(t,e=>e?s(e):r.redirect(\"/authrequired\")):r.redirect(\"/login\"))(e,r,s)}),c.get(\"/authrequired\",(e,r)=>{e.isAuthenticated()?r.send(\"you hit the authentication endpoint\\n\"):r.redirect(\"/\")}),c.listen(3e3,()=>{console.log(\"Listening on localhost:3000\")}),e.exports=c},function(e,r){e.exports=require(\"uuid/v4\")},function(e,r){e.exports=require(\"express-session\")},function(e,r){e.exports=require(\"session-file-store\")},function(e,r){e.exports=require(\"body-parser\")},function(e,r){e.exports=require(\"passport\")},function(e,r){e.exports=require(\"passport-local\")},function(e,r){e.exports=require(\"axios\")},function(e,r){e.exports=require(\"bcrypt-nodejs\")},function(e,r){e.exports=require(\"mongoose\")},function(e,r,s){\"use strict\";var a=o(s(13)),t=o(s(!function(){var e=new Error(\"Cannot find module './validations/user.validations'\");throw e.code=\"MODULE_NOT_FOUND\",e}())),n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,s):{};a.get||a.set?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,r}(s(1));function o(e){return e&&e.__esModule?e:{default:e}}const i=s(0).Router(),d=s(1);i.get(\"/show\",d.getUser),i.post(\"/new\",d.createUser),i.get(\"/new\",d.newUser),i.post(\"/login\",(0,a.default)(t.default.loginUser),n.loginUser),i.get(\"/login\",d.newLoginUser),e.exports=i},function(e,r){e.exports=require(\"express-validation\")}]);","extractedComments":[]}